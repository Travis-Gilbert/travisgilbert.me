{% extends "base.html" %}
{% block title %}Page Compositions{% endblock %}

{% block content %}
<header class="mb-6">
  <div class="flex items-center gap-3 mb-3">
    <c-icon name="palette" size="24" color="#C49A4A" />
    <h1 class="font-title text-[22px] text-ink m-0">Page Compositions</h1>
    {% if compositions %}
    <c-badge color="ink">{{ compositions|length }}</c-badge>
    {% endif %}
  </div>
  <c-btn variant="primary" href="{% url 'editor:compose-create' %}">
    <c-icon name="plus" size="14" color="currentColor" /> New Composition
  </c-btn>
</header>

{% if compositions %}
<div class="space-y-2">
  {% for comp in compositions %}
  <c-card hover href="{% url 'editor:compose-edit' page_key=comp.page_key %}">
    <div class="flex items-center gap-3">
      <c-icon name="palette" size="18" color="#C49A4A" />
      <span class="font-body text-[15px] flex-1">{{ comp.get_page_key_display }}</span>
      <span class="font-mono text-[10px] tracking-wide text-ink-muted">
        {{ comp.updated_at|date:"M j, Y" }}
      </span>
    </div>
  </c-card>
  {% endfor %}
</div>
{% else %}
<div class="flex flex-col items-center gap-3 py-12 text-center">
  <c-icon name="palette" size="40" color="#C49A4A" class="opacity-25" />
  <p class="font-title text-[18px] text-ink m-0">No compositions yet</p>
  <p class="font-mono text-[12px] tracking-wide text-ink-muted max-w-sm m-0">
    Create a composition to configure a page's layout and component settings.
  </p>
  <c-btn variant="primary" href="{% url 'editor:compose-create' %}">
    <c-icon name="plus" size="14" color="currentColor" /> New Composition
  </c-btn>
</div>
{% endif %}
{% endblock %}
